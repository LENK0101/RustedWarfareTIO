
[core]
name: 人尸
price: 0
maxHp: 1000
mass: 100
radius: 10

tags: 人尸
showInEditor: false
showOnMinimap: false 
fogOfWarSightRange: 0
hideScorchMark: true
explodeOnDeath: false
effectOnDeath: NONE
isUnrepairableUnit: true
isUnselectable: true
disableAllUnitCollisions: true
canOnlyBeAttackedByUnitsWithTags: 无
createOnAggressiveTeam: true
#canNotBeDirectlyAttacked: true
#stayNeutral: true
#createNeutral: true


[graphics]
image:        人尸.png

drawLayer: bottom
#wreaks/bottom/ground/ground2
default_frame: 16
imageScale:	1
total_frames: 4
frame_width: 44
frame_height: 26
showHealthBar: false
animation_direction_units: 90
animation_direction_strideX: 0
animation_direction_strideY: 1
animation_direction_starting: 225
rotate_with_direction: false
lock_body_rotation_with_main_turret: true
icon_zoomed_out_neverShow: true


[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false


[movement]
movementType: LAND


[turret_人尸飞]
x: 0
y: 0

canShoot: false
projectile: 人尸飞


[projectile_人尸飞]
areaDamage: 0
life: 600

areaRadius: 10
drawSize:	0
speed: 0
#speedSpread: 1
targetSpeed: 10
targetSpeedAcceleration: 0.02
effectOnCreate: CUSTOM:人尸飞
explodeEffect: CUSTOM:小水花, CUSTOM:人尸
trailEffect: true
trailEffectRate: 15
targetGround: true
targetGroundSpread: 100
lightSize: 0.5
lightColor: #FF000000
lightCastOnGround: true
initialUnguidedSpeedHeight: 1.2
gravity: 0.18


[action_消失]
autoTrigger: if not self.timeAlive(withinSeconds=20) or numberOfUnitsInEnemyTeam(withTag='装甲', greaterThan=0, withinRange=5) or not self.isOverPassableTile(type='LAND')
buildSpeed: 0s
deleteSelf: true


[hiddenAction_静止]
autoTrigger: if not self.hasFlag(id=0)
#addResources: setFlag=0
playAnimationIfNotPlaying: 静止2


[hiddenAction_静止2]
autoTrigger: if self.hasFlag(id=0) and self.timeAlive(laterThanSeconds=0.8)
playAnimationIfNotPlaying: 静止2


[hiddenAction_人尸飞]
#autoTriggerOnEvent: destroyed
autoTrigger: if self.hp(lessThan=1000)
#self.hasTakenDamage(withinSeconds=1)
fireTurretXAtGround: 人尸飞
fireTurretXAtGround_withProjectile: 人尸飞
fireTurretXAtGround_withOffset:0,0
deleteSelf: true


[hiddenAction_人电死]
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='引电小', greaterThan=0, withinRange=25) and self.timeAlive(withinSeconds=1)
spawnEffects: CUSTOM:人电死
deleteSelf: true


[hiddenAction_人电死2] 
@copyFromSection: hiddenAction_人电死
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='引电中', greaterThan=0, withinRange=50) and self.timeAlive(withinSeconds=1)


[hiddenAction_人烧死] 
autoTrigger: if (numberOfUnitsInNeutralTeam(withTag='油桶中介', greaterThan=0, withinRange=100) or numberOfUnitsInAggressiveTeam(withTag='火焰', greaterThan=0, withinRange=30) or numberOfUnitsInNeutralTeam(withTag='引火', greaterThan=0, withinRange=10)) and self.timeAlive(withinSeconds=1)
spawnUnits: 人烧死
deleteSelf: true


[hiddenAction_人辐射死] 
autoTrigger: if numberOfUnitsInNeutralTeam(withTag='辐射大', greaterThan=0, withinRange=250) and self.timeAlive(withinSeconds=1)
spawnEffects: CUSTOM:人辐射死
deleteSelf: true


[animation_静止]
onActions: idle
body_0s: {frame:16}


[animation_静止2]
body_0s: {frame:0}
body_20.1s: {frame:3}


[effect_人尸飞]
image: 人尸飞.png
#ROOT:\共享文件\1类\人击飞.png
total_frames: 18
animateFrameStart: 0
animateFrameEnd: 17
animateFrameSpeed: 0.07
animateFrameLooping: true
#0.09
scaleFrom: 1
scaleTo: 1
life: 600
dirSpeedRandom: 15
fadeInTime: 0
fadeOut: false
attachedToUnit: true
liveAfterAttachedDies: false
drawUnderUnits: false


[effect_小水花]
image: ROOT:\共享文件\1类\灰.png
createWhenOverLiquid: true
createWhenOverLand: false
color: #FFFFFFFF
scaleFrom: 0.6
scaleTo: 6
alpha: 1.2
life: 60
hSpeed: 0.6
hOffsetRandom: 0.2
dirOffsetRandom: 180
xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
#xOffsetRelative: 0
#yOffsetRelative: 0
fadeInTime: 0
fadeOut: true
attachedToUnit: false
drawUnderUnits: false
createWhenZoomedOut: false
physics: true
physicsGravity: 0.2
atmospheric:true


[effect_人尸]
createWhenOverLiquid: false
image: 人尸.png
#ROOT:\共享文件\1类\人击飞.png
#total_frames: 10
frame_width: 44
frame_height: 26
animateFrameStart: 0
animateFrameEnd: 3
animateFrameSpeed: 0.01
scaleFrom: 1
scaleTo: 1
life: 600
fadeInTime: 0
fadeOut: false
attachedToUnit: false
drawUnderUnits: true
alwayStartDirAtZero: true
spawnChance: 0.25
ifSpawnFailsEmitEffects: CUSTOM:人尸2


[effect_人尸2]
@copyFromSection: effect_人尸
animateFrameStart: 4
animateFrameEnd: 7
ifSpawnFailsEmitEffects: CUSTOM:人尸3


[effect_人尸3]
@copyFromSection: effect_人尸
animateFrameStart: 8
animateFrameEnd: 11
ifSpawnFailsEmitEffects: CUSTOM:人尸4


[effect_人尸4]
@copyFromSection: effect_人尸
animateFrameStart: 12
animateFrameEnd: 15
spawnChance: 1


[effect_人电死]
image: ROOT:\共享文件\1类\人电死.png
scaleFrom: 1
scaleTo: 1
total_frames: 14
animateFrameStart: 0
animateFrameEnd: 13
animateFrameSpeed: 0.15
fadeInTime: 0
fadeOut: false
drawUnderUnits:false
alwayStartDirAtZero: true


[effect_人辐射死]
image: ROOT:\共享文件\1类\人辐射死.png
scaleFrom: 0.9
scaleTo: 0.9
total_frames: 60
animateFrameStart: 0
animateFrameEnd: 59
animateFrameSpeed: 0.15
life: 600
fadeInTime: 0
fadeOut: false
drawUnderUnits: true
alwayStartDirAtZero: true