[core]
copyFrom: ROOT:/Moba/.MobaDATA/skillBuff.template
@global baseHeal: 20
@global levelHeal: 3
@global multiplierBasicAttack: 0
@global multiplierSkillPower: 0.1

energyRegen:0

name: FallenAngelSkill3Heal

createOnAggressiveTeam: true

autoTriggerCooldownTime:0.5s
autoTriggerCooldownTime_allowDangerousHighCPU: true

tags: FallenAngelSkill3Heal, healing

[hiddenAction_initialize1]
autoTriggerOnEvent:created
setResourcesWithLogic: heal = ${baseHeal} + ${levelHeal} * (customTarget1.customTarget1.resource.Level-2) + ${multiplierBasicAttack} * customTarget1.customTarget1.resource.TotalAttackPower  + ${multiplierSkillPower} * customTarget1.customTarget1.resource.TotalSkillPower
setUnitStats:shootDamageMultiplier = self.resource.heal / 100

[projectile_buff]
areaDamage: 1
areaRadius: 300
tags: FallenAngelSkill3

[projectile_heal]
areaDamage:-100
tags: healing

[hiddenAction_explode]
autoTriggerOnEvent: newMessage(withTag='trigger')
fireTurretXAtGround: heal
fireTurretXAtGround_withOffset: 0,0
alsoTriggerAction: explode2

[hiddenAction_explode2]
fireTurretXAtGround: buff
fireTurretXAtGround_withOffset: 0,0

[hiddenAction_deleteSelf]
autoTriggerOnEvent: newMessage(withTag='finished')
deleteSelf: true

[resource_heal]
hidden:false
