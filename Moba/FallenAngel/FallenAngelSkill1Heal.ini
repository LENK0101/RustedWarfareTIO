[core]
copyFrom: ROOT:/Moba/.MobaDATA/skillBuff.template
@global baseHeal: 100
@global levelHeal: 10
@global multiplierSkillAttack: 0
@global multiplierSkillPower: 0.5

name: FallenAngelSkill1Heal

createOnAggressiveTeam: true

tags: healing

[hiddenAction_initialize1]
autoTriggerOnEvent:created
setResourcesWithLogic: heal = ${baseHeal} + ${levelHeal} * (customTarget1.customTarget1.resource.Level-2) + ${multiplierBasicAttack} * customTarget1.customTarget1.resource.TotalAttackPower  + ${multiplierSkillPower} * customTarget1.customTarget1.resource.TotalSkillPower
setUnitStats:shootDamageMultiplier = self.resource.heal / 100

[projectile_buff]
areaDamage:-100
areaRadius:45
tags: healing

[hiddenAction_created]
autoTriggerOnEvent:created
setResourcesWithLogic: ableToFire = 1

[hiddenAction_explode]
autoTriggerOnEvent: newMessage(withTag='trigger')
requireConditional: if self.resource.ableToFire == 1
setResourcesWithLogic: ableToFire = 0
fireTurretXAtGround: buff
sendMessageTo: parent
sendMessageWithTags: trigger

[hiddenAction_timeUp]
autoTrigger: if self.resource.ableToFire == 0
deleteSelf: true

[resource_ableToFire]
hidden:false

[resource_heal]
hidden:false
