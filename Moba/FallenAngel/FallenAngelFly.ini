[core]
copyFrom: FallenAngel.ini

showInEditor: false

name: FallenAngelFly

[turret_baseAttack]
onShoot_triggerActions: energyConsum

[hiddenAction_energyConsum]
setUnitStats: energy = self.energy() - self.maxEnergy() * 0.02

[projectile_baseAttack]
spawnUnit:FallenAngelSkill2Attack

[projectile_baseAttackS]
spawnUnit:FallenAngelSkill2Attack

[projectile_baseAttackL]
spawnUnit:FallenAngelSkill2Attack

[projectile_baseAttackS+L]
spawnUnit:FallenAngelSkill2Attack

[action_basicAttack]
isVisible: if self.resource.inventoryState == 0

[action_skill1Description]
isLocked: true

[action_skill1]
isLocked: if memory.skillCD1 > 0

[turret_skill1Destination]
limitingRange:220

[action_skill2]
isLocked: true

[action_skill2Close]
text:Ebon Stride (%{int(select(memory.skillCD2>0, memory.skillCD2+1, 0))})
isVisible: if self.resource.Level >= 3 and self.resource.inventoryState == 0 and self.resource.skill2Activated == 1
isLocked: if memory.skillCD2 > 0
iconImage: ROOT:/MOBA/.MobaDATA/icon/skill/fighter2.png
description: Movement speed boost and attack speed boost. \n-Cool Down: %{self.resource.skill2CDCount}s
pos:1
buildSpeed:0s
setResourcesWithLogic: skill2Activated = 0
setUnitMemory: skillCD2 = self.resource.skill2CDCount
isGuiBlinking: true
alsoTriggerAction: interruptRecall, skill2Close2

[hiddenAction_skill2Close2]
autoTrigger: if self.resource.skill2Activated == 0
setUnitStats: targetHeight = 1

[action_skill3Description]
isLocked: true

[action_skill3]
isVisible: if self.resource.Level >= 6 and self.resource.inventoryState == 0

[turret_skill3]
limitingRange:9999

[movement]
movementType: AIR
heightChangeRate: 2
targetHeight: 60

[hiddenAction_convertAqua]
autoTrigger: if self.resource.skill2Activated == 0 and self.height() < 15
requireConditional: if customTarget1.resource.aquaWalker == 1
setHeight: 1
convertTo:FallenAngelAqua

[hiddenAction_convertNoAqua]
autoTrigger: if self.resource.skill2Activated == 0 and self.height() < 15
requireConditional: if customTarget1.resource.aquaWalker == 0
setHeight: 1
convertTo:FallenAngel
convertTo_keepCurrentTags: true
convertTo_keepCurrentFields: maxHp, maxShield, maxEnergy, shieldRegen, armour, shootDelayMultiplier, moveSpeed, maxAttackRange, selfRegenRate